# 阿里云Java课程

【心得】这个课程把视频切分成10分钟左右的主题片段，是一种很好的实践。太长的视频不利于以后复习和查找。

## 构造函数
1. 即便是我们没有定义构造函数，Java程序 **编译时** 也会自动生成一个什么都不做的“无参数构造函数”。这就是为什么我们总是可以使用例如 ` Dog myDog = new Dog();` 这样的语句来创建一个对象，并用缺省的无参构造函数来初始化。在这里无参构造函数就是 ` Dog()`，虽然我们没有定义，可是她却天然存在。
1. 注意：如果我们已经定义了构造函数（一般都是有参函数），编译时就不会自动生成那个“无参构造函数”。` new Dog()；` 语句会触发报错。
1. 定义构造函数时没有像普通函数那样设置返回值类型，是为了让编译器分析时识别这是一个特殊的函数（构造函数），并在实例化对象时自动调用执行。普通函数是这样的：` public void setName(String name){...};`，而构造函数是这样的：` public Dog(String name, int age){...};`。第二个原因是，构造函数如果说有返回值，返回的就是这个实例化对象的地址指针。观察` Dog myDog = new Dog();`，可以认为 Dog() 返回了地址指针给 myDog 。

## 匿名对象
1. 还是看这段代码 ` Dog myDog = new Dog();`，在这里myDog是对象名称，是指向对象 ` new Dog() ` 的。
1. 如果让任何一个对象名称变量指向 ` new Dog() ` ，像这样直接使用 ` new Dog().setName("aFei") `是可以的。这时 ` new Dog() ` 就叫做匿名对象。
1. 匿名对象仅仅被使用一次就变成了内存垃圾，将会被GC回收。

## this关键字
- `this.name` 访问当前对象的name属性
- `this.setAge() ` 访问当前对象的 setAge() 方法
- `this()` 访问当前对象的构造函数
- 观察构造函数：
```java
public Dog(String name, int age){
    this.name = name;
    this.age = age;
};
```
如果这里不用 `this.name = name;` ，而是这样写  `name = name `语法上是正确的。
```java
public Dog(String name, int age){
    name = name;
    age = age;
};
```

但是并没有赋值给对象属性 `this.name` ，编译器会把两个name 都解析为参数name，就是自己赋值给了自己，没有任何意义。这是因为如果发生变量重名，会优先在{}界定的程序块内匹配和解析 `name` 参数变量，而不会认为左边的name是属性变量 `this.name`。


- 规范编程方式是，所有对对象属性变量的访问都要加上this关键字。如，`this.name; this.age;`
- this() 调用，在一些特殊情况下可以用于减少代码重复。在有多个构造函数的情况下，复杂的构造函数可能包含简单构造函数的重复代码，用包含this()的方式可以减少代码重复。但是，this() 只能被另一个构造函数调用，不能被其它方法调用，而且 `this();` 必须放在第一行。第三就是要避免循环调用，产生递归构造器调用错误。这是严格的语法要求。

## 简单Java类
- 像描述一个人、一辆车、一本书等，没有复杂逻辑，仅仅用于存储信息的类，称为Java的简单类。
- 类的所有属性都应该用 private 进行封装，并提供 setter 和 getter 供外部访问。
- 通常提供多个不同参数数量的构造方法，必须有一个无参构造方法。
- 类里面不应有任何输出语句，所有信息的获取都通过返回语句实现。
- 通常提供一个获取对象属性详细信息的方法，比如，getInfo() 。

